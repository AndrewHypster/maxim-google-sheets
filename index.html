<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Максиму</title>
  </head>
  <body>
    <h2>максиму гугл таблиця</h2>

    <form id="myForm">
      <input type="text" name="name" placeholder="Name" required />
      <input type="number" name="age" placeholder="Age" required />
      <input type="text" name="city" placeholder="City" required />
      <button type="submit">Send</button>
    </form>

    <p id="status"></p>
    <script>
      const form = document.getElementById("myForm");
      const status = document.getElementById("status");

      form.addEventListener("submit", async (e) => {
        e.preventDefault();

        const formData = new FormData(form);
        //const data = Object.fromEntries(formData.entries()); // { name, age, city }
        const data = {"projects":[{"id":"1755850373297","name":"345345","materialId":"1","weight":34545,"time":345345,"notes":"","cost":18369939.892500002,"created":"2025-08-22T08:12:53.297Z","updated":"2025-08-22T08:12:53.297Z"},{"id":"1755850475807","name":"3442","materialId":"1","weight":234234,"time":234234,"notes":"","cost":12526014.500999998,"created":"2025-08-22T08:14:35.807Z","updated":"2025-08-22T08:14:35.807Z"},{"id":"1755850552177","name":"234234","materialId":"1","weight":23434,"time":234234,"notes":"234","cost":12459612.500999998,"created":"2025-08-22T08:15:52.177Z","updated":"2025-08-22T08:15:52.177Z"},{"id":"1755850813795","name":"333","materialId":"1","weight":333,"time":333,"notes":"","cost":17807.674499999997,"created":"2025-08-22T08:20:13.795Z","updated":"2025-08-22T08:20:13.795Z"},{"id":"1755850951855","name":"44444","materialId":"1","weight":444,"time":4444,"notes":"4","cost":236389.56600000002,"created":"2025-08-22T08:22:31.855Z","updated":"2025-08-22T08:22:31.855Z"},{"id":"1755851050373","name":"2342342","materialId":"1","weight":234234,"time":234,"notes":"","cost":86223.50099999999,"created":"2025-08-22T08:24:10.373Z","updated":"2025-08-22T08:24:10.373Z"},{"id":"1755851061756","name":"324","materialId":"1","weight":234,"time":234,"notes":"","cost":12513.501,"created":"2025-08-22T08:24:21.756Z","updated":"2025-08-22T08:24:21.756Z"},{"id":"1755851159575","name":"1212","materialId":"1","weight":1212,"time":1212,"notes":"1212","cost":64813.518000000004,"created":"2025-08-22T08:25:59.575Z","updated":"2025-08-22T08:25:59.575Z"},{"id":"1755851259114","name":"цуцу","materialId":"1","weight":2323,"time":2323,"notes":"","cost":124225.9095,"created":"2025-08-22T08:27:39.114Z","updated":"2025-08-22T08:27:39.114Z"},{"id":"1755851286531","name":"2323","materialId":"1","weight":2323,"time":2323,"notes":"","cost":124225.9095,"created":"2025-08-22T08:28:06.531Z","updated":"2025-08-22T08:28:06.531Z"},{"id":"1755851410765","name":"ц2323","materialId":"1","weight":2323,"time":2323,"notes":"","cost":124225.9095,"created":"2025-08-22T08:30:10.765Z","updated":"2025-08-22T08:30:10.765Z"},{"id":"1755851495614","name":"44444","materialId":"1","weight":444,"time":444,"notes":"","cost":23743.566,"created":"2025-08-22T08:31:35.614Z","updated":"2025-08-22T08:31:35.614Z"},{"id":"1755851554968","name":"33333","materialId":"1","weight":333,"time":33,"notes":"","cost":1859.2245,"created":"2025-08-22T08:32:34.968Z","updated":"2025-08-22T08:32:34.968Z"},{"id":"1755851641104","name":"3333","materialId":"1","weight":333,"time":33,"notes":"","cost":1859.2245,"created":"2025-08-22T08:34:01.104Z","updated":"2025-08-22T08:34:01.104Z"},{"id":"1755851717177","name":"йцйцйц","materialId":"1","weight":1212,"time":1212,"notes":"","cost":64813.518000000004,"created":"2025-08-22T08:35:17.177Z","updated":"2025-08-22T08:35:17.177Z"},{"id":"1755851766881","name":"цууцу","materialId":"1","weight":2323,"time":2323,"notes":"","cost":124225.9095,"created":"2025-08-22T08:36:06.881Z","updated":"2025-08-22T08:36:06.881Z"},{"id":"1755851834854","name":"1212","materialId":"1","weight":1212,"time":1212,"notes":"","cost":64813.518000000004,"created":"2025-08-22T08:37:14.854Z","updated":"2025-08-22T08:37:14.854Z"},{"id":"1755852011015","name":"2323","materialId":"1","weight":2323,"time":2323,"notes":"","cost":124225.9095,"created":"2025-08-22T08:40:11.015Z","updated":"2025-08-22T08:40:11.015Z"},{"id":"1755852150666","name":"2323","materialId":"1","weight":2323,"time":23,"notes":"23","cost":1954.4595,"created":"2025-08-22T08:42:30.666Z","updated":"2025-08-22T08:42:30.666Z"},{"id":"1755852321797","name":"333","materialId":"1","weight":333,"time":33,"notes":"","cost":1859.2245,"created":"2025-08-22T08:45:21.797Z","updated":"2025-08-22T08:45:21.797Z"},{"id":"1755852479656","name":"444","materialId":"1","weight":444,"time":444,"notes":"","cost":23743.566,"created":"2025-08-22T08:47:59.656Z","updated":"2025-08-22T08:47:59.656Z"},{"id":"1755852542977","name":"234232","materialId":"1","weight":34234,"time":234234,"notes":"","cost":12463014.500999998,"created":"2025-08-22T08:49:02.977Z","u

        try {
          const res = await fetch("/api/server", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(data),
          });

          const result = await res.text();
          console.log("✅ Success:", result);

          status.textContent = "Дані успішно відправлені!";
          status.style.color = "green";
          form.reset();
        } catch (err) {
          console.error("❌ Error:", err);
          status.textContent = "Помилка при відправці!";
          status.style.color = "red";
        }
      });
    </script>
  </body>
</html>



